{
{% if config.vod_wall_paper %}"wallpaper":"{{ config.vod_wall_paper }}",{% endif %}
"hipy_sites_count": {{rules|length}},
"mode": {{ mode }},
"spider": "{{ config.vod_custom_jar }}",
{% if alists|length > 0 %}"drives": {{alists_str}},{% endif %}
"homepage":"https://github.com/hjdhnx/hipy-server",
"homeLogo":"{{host}}/static/img/logo500x200-1.png",
"sites": [{% for rule in rules %}{% if rule.file_type ==".py" %}
{
    "key":"{% if mode == 0 %}hipy_t4_{{ rule.name }}{% else %}hipy_t3_{{ rule.name }}{% endif %}",
    "key":"hipy_py_{{ rule.name }}",
    "name":"{% if mode == 0 %}{{ rule.name }}(hipy_t4){% else %}{{ rule.name }}(hipy_t3){% endif %}",
    "type":{% if mode == 0 %}4{% else %}3{% endif %},
    "api":"{% if mode == 0 %}{{ host }}/api/v1/vod/{{ rule.name }}{% if config.vod_passwd %}?pwd={{config.vod_passwd}}{% endif %}{% else %}{{ host }}/files/hipy/{{ rule.name }}{{rule.file_type}}{% endif %}",
    "searchable": {{ rule.searchable or 0 }},
    "quickSearch": {{ rule.quickSearch or 0}},
    "filterable": {{ rule.filterable or 0}},
    "order_num": {{ rule.order_num }},
    "ext": "{{ rule.ext or ""}}"
}{% else %}
{
    "key":"dr_{{ rule.name }}",
    "key":"{% if mode == 0 %}drpy_t4_{{ rule.name }}{% else %}drpy_t3_{{ rule.name }}{% endif %}",
    "key":"hipy_js_{{ rule.name }}",
    "name":"{{ rule.name }}(drpy)",
    "name":"{% if mode == 0 %}{{ rule.name }}(drpy_t4){% else %}{{ rule.name }}(drpy_t3){% endif %}",
    "type":3,
    "type":{% if mode == 0 %}4{% else %}3{% endif %},
    "api":"{{ config.vod_drpy_api }}",
    "api":"{% if mode == 0 %}{{ host }}/api/v1/vod/{{ rule.name }}.js{% if config.vod_passwd %}?pwd={{config.vod_passwd}}{% endif %}{% else %}{{ config.vod_drpy_api }}{% endif %}",
    "searchable": {{ rule.searchable or 0}},
    "quickSearch": {{ rule.quickSearch or 0}},
    "filterable": {{ rule.filterable or 0}},
    "order_num": {{ rule.order_num }},
    "ext":"{{ host }}/files/drpy_js/{{ rule.name }}{{rule.file_type}}{{rule.ext}}",
    "ext":"{% if mode == 0 %}{{getQuery(rule.name+rule.file_type,rule.ext)}}{% else %}{{ host }}/files/drpy_js/{{ rule.name }}{{rule.file_type}}{{rule.ext}}{% endif %}"
}{% endif %}{% if loop.last==False %},{% endif %}{% endfor %}
{% if sites %}
,{% for site in sites %}{
    "key":"{{ site.key }}",
    "name":"{{ site.name }}",
    "type": {{ site.type }},
    "api":"{{ site.api }}",
    "searchable": {{ site.searchable or 0 }},
    "quickSearch": {{ site.quickSearch or 0}},
    "filterable": {{ site.filterable or 0}},
    "order_num": {{ rule.order_num }},
    "ext": "{{ site.ext }}"
}{% if loop.last==False %},{% endif %}{% endfor %}
{% endif %}
],
	"parses": [{
		"name": "üåê‚ìä",
		"type": 0,
		"url": "",
		"header": {
            "User-Agent": "Mozilla/5.0"
        }
	},
	{
		"name": "ËΩÆËØ¢",
		"type": 2,
		"url": "Sequence",
		"header": {
            "User-Agent": "Mozilla/5.0"
        }
	},
	{
		"name": "Âπ∂Âèë",
		"type": 2,
		"url": "Parallel",
		"header": {
            "User-Agent": "Mozilla/5.0"
        }
	},
	 {% for jx in jxs %}
{
    "name": "{{ jx.name }}",
    "url": "{{ jx.url }}",
    "type": {{ jx.type }},
    "ext": {
        "flag": {{jx.flag or ["qiyi","imgo","Áà±Â•áËâ∫", "Â•áËâ∫", "qq","qq È¢ÑÂëäÂèäËä±ÁµÆ", "ËÖæËÆØ", "youku", "‰ºòÈÖ∑", "pptv", "PPTV", "letv", "‰πêËßÜ","leshi", "mgtv", "ËäíÊûú","sohu", "xigua","fun","È£éË°å"]}}
    },
    "header": {
        "User-Agent": "{{ jx.ua or "Mozilla/5.0" }}"
    }
}{% if loop.last==False %},{% endif %}{% endfor %}
	 ],
"flags": ["imgo","youku", "qq","qq È¢ÑÂëäÂèäËä±ÁµÆ", "iqiyi", "qiyi","fun", "letv","leshi","sohu", "tudou","xigua","cntv","1905", "pptv", "mgtv", "wasu", "bilibili", "renrenmi"],
"hotSearch": [{
    "name": "mobilesearch",
    "request": {
      "method": "GET",
      "header": [
        {
          "key": "Referer",
          "value": "{{ host }}"
        }
      ],
      "url": {
        "raw": "{{ host }}/hotsugg?t={time}"
      }
    },
    "response": {
        "result": "$.data",
        "data": [
          {
            "key": "keyword",
            "value": "title"
          }
        ]
    }
}],
{% if config.vod_zb_use == "url" %}
"lives":[{"group":"redirect","channels":[{"name":"Áõ¥Êí≠","urls":["proxy://do=live&type=txt&ext={{config.vod_zb_url}}"]}]}],
{% elif config.vod_zb_use == "file" %}
"lives":[{"group":"redirect","channels":[{"name":"Áõ¥Êí≠","urls":["proxy://do=live&type=txt&ext={{config.vod_zb_file}}"]}]}],
{% else %}
"lives_use":"{{config.vod_zb_use}}",
{% endif %}
"sniffer": {
    "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.27",
    "isVideoFormat": "http((?!http).){26,}\\.(m3u8|mp4|flv|avi|mkv|wmv|mpg|mpeg|mov|ts|3gp|rm|rmvb|asf|m4a|mp3|wma)",
    "custom": [
        {"url":"/Cloud/Down/AliCloud/", "mimeType":"text/html", "encoding":"utf-8", "header":{"Referer": "https://zxzj.vip/"}},
        {"url":"ysting.ysxs8.vip", "mimeType":"text/html", "encoding":"utf-8", "header":{"Referer": "http://ysting.ysxs8.vip:81"}}
    ]
},
"recommend": [{"name": "Ë±ÜÁì£Êé®Ëçê","request": {"method": "GET","header": [{"key": "Referer","value": "https://movie.douban.com/"}],"url": {"raw": "https://movie.douban.com/j/new_search_subjects?sort=U&range=0,10&tags=&playable=1&start=0&year_range=2022,2022"}},"response": {"result": "$.data","data": [{"key": "name","value": "title"},{"key": "note","value": "rate"},{"key": "pic","value": "cover"}]},"expires" : "86400"}],
"rating": [{"name": "rating","request": {"method": "GET","url": {"raw": "https://api.wmdb.tv/api/v1/movie/search?q={name}&limit=1"}},"response": {"result": "this","data": [{"key": "rating","value": "doubanRating"}]}}],
"doh":[
		{
			"ips":[
				"8.8.4.4",
				"8.8.8.8"
			],
			"name":"Google",
			"url":"https://dns.google/dns-query"
		},
		{
			"ips":[
				"1.1.1.1",
				"1.0.0.1",
				"2606:4700:4700::1111",
				"2606:4700:4700::1001"
			],
			"name":"Cloudflare",
			"url":"https://cloudflare-dns.com/dns-query"
		},
		{
			"ips":[
				"94.140.14.140",
				"94.140.14.141"
			],
			"name":"AdGuard",
			"url":"https://dns.adguard.com/dns-query"
		},
		{
			"ips":[
				"84.200.69.80",
				"84.200.70.40"
			],
			"name":"DNSWatch",
			"url":"https://resolver2.dns.watch/dns-query"
		},
		{
			"ips":[
				"9.9.9.9",
				"149.112.112.112"
			],
			"name":"Quad9",
			"url":"https://dns.quad9.net/dns-quer"
		}
	],
"ijk": [{
        "group": "ËΩØËß£Á†Å",
        "options": [{
                "category": 4,
                "name": "opensles",
                "value": "0"
            },
            {
                "category": 4,
                "name": "overlay-format",
                "value": "842225234"
            },
            {
                "category": 4,
                "name": "framedrop",
                "value": "1"
            },
            {
                "category": 4,
                "name": "soundtouch",
                "value": "1"
            },
            {
                "category": 4,
                "name": "start-on-prepared",
                "value": "1"
            },
            {
                "category": 1,
                "name": "http-detect-range-support",
                "value": "0"
            },
            {
                "category": 1,
                "name": "fflags",
                "value": "fastseek"
            },
            {
                "category": 2,
                "name": "skip_loop_filter",
                "value": "48"
            },
            {
                "category": 4,
                "name": "reconnect",
                "value": "1"
            },
			{
				"category":4,
				"name":"enable-accurate-seek",
				"value":"0"
			},
			{
				"category":4,
				"name":"mediacodec",
				"value":"0"
			},
			{
				"category":4,
				"name":"mediacodec-auto-rotate",
				"value":"0"
			},
			{
				"category":4,
				"name":"mediacodec-handle-resolution-change",
				"value":"0"
			},
			{
				"category":4,
				"name":"mediacodec-hevc",
				"value":"0"
			},
			{
				"category":1,
				"name":"dns_cache_timeout",
				"value":"600000000"
			},
            {
                "category": 4,
                "name": "max-buffer-size",
                "value": "15728640"
            }   
        ]
    },
    {
        "group": "Á°¨Ëß£Á†Å",
        "options": [{
                "category": 4,
                "name": "opensles",
                "value": "0"
            },
            {
                "category": 4,
                "name": "overlay-format",
                "value": "842225234"
            },
            {
                "category": 4,
                "name": "framedrop",
                "value": "1"
            },
            {
                "category": 4,
                "name": "soundtouch",
                "value": "1"
            },
            {
                "category": 4,
                "name": "start-on-prepared",
                "value": "1"
            },
            {
                "category": 1,
                "name": "http-detect-range-support",
                "value": "0"
            },
            {
                "category": 1,
                "name": "fflags",
                "value": "fastseek"
            },
            {
                "category": 2,
                "name": "skip_loop_filter",
                "value": "48"
            },
            {
                "category": 4,
                "name": "reconnect",
                "value": "1"
            },
            {
                "category": 4,
                "name": "max-buffer-size",
                "value": "15728640"
            },
            {
                "category": 4,
                "name": "enable-accurate-seek",
                "value": "0"
            },
            {
                "category": 4,
                "name": "mediacodec",
                "value": "1"
            },
            {
                "category": 4,
                "name": "mediacodec-auto-rotate",
                "value": "1"
            },
            {
                "category": 4,
                "name": "mediacodec-handle-resolution-change",
                "value": "1"
            },
            {
                "category": 4,
                "name": "mediacodec-hevc",
                "value": "1"
            },
			{
				"category":1,
				"name":"dns_cache_timeout",
				"value":"600000000"
			}
        ]
    }
],
"rules":{{config.EXT_FUNC or [
        {
			"hosts":[
				"raw.githubusercontent.com",
				"googlevideo.com",
				"cdn.v82u1l.com",
				"cdn.iz8qkg.com",
				"cdn.kin6c1.com",
				"c.biggggg.com",
				"c.olddddd.com",
				"haiwaikan.com",
				"www.histar.tv",
				"youtube.com",
				"uhibo.com",
				".*boku.*",
				".*nivod.*",
				".*ulivetv.*",
				"wogg.link",
				"wogg.xyz"
			],
			"name":"proxy"
		},
		{
			"hosts":[
				"magnet"
			],
			"name":"cl",
			"regex":[
				"ÊúÄÊñ∞",
				"Áõ¥Êí≠",
				"Êõ¥Êñ∞"
			]
		},
		{
			"hosts":[
				"haiwaikan"
			],
			"name":"Êµ∑Â§ñÁúã",
			"regex":[
				"10.0099",
				"10.3333",
				"16.0599",
				"8.1748",
				"12.33",
				"10.85"
			]
		},
		{
			"hosts":[
				"suonizy"
			],
			"name":"Á¥¢Â∞º",
			"regex":[
				"15.1666",
				"15.2666"
			]
		},
		{
			"hosts":[
				"bfzy",
				"bfbfvip"
			],
			"name":"Êö¥È¢®",
			"regex":[
				"#EXTINF.*?\\s+.*?adjump.*?\\.ts\\s+"
			]
		},
		{
			"hosts":[
				"aws.ulivetv.net"
			],
			"name":"ÊòüÊòü",
			"regex":[
				"#EXT-X-DISCONTINUITY\\r*\\n*#EXTINF:8,[\\s\\S]*?#EXT-X-DISCONTINUITY"
			]
		},
		{
			"hosts":[
				"vip.lz",
				"hd.lz",
				"v.cdnlz"
			],
			"name":"ÈáèÂ≠ê",
			"regex":[
				"18.5333"
			]
		},
		{
			"hosts":[
				"vip.ffzy",
				"hd.ffzy"
			],
			"name":"ÈùûÂá°",
			"regex":[
				"25.1999",
				"25.0666",
				"25.08",
				"20.52"
			]
		},
		{
			"hosts":[
				"huoshan.com"
			],
			"name":"ÁÅ´Â±±ÂóÖÊé¢",
			"regex":[
				"item_id="
			]
		},
		{
			"hosts":[
				"douyin.com"
			],
			"name":"ÊäñÈü≥ÂóÖÊé¢",
			"regex":[
				"is_play_url="
			]
		},
		{
			"hosts":[
				"api.52wyb.com"
			],
			"name":"‰∏ÉÊñ∞ÂóÖÊé¢",
			"regex":[
				"m3u8?pt=m3u8"
			]
		},
		{
			"hosts":[
				"10086.cn"
			],
			"name":"czzy",
			"regex":[
				"/storageWeb/servlet/downloadServlet"
			]
		},
		{
			"exclude":[
				".m3u8"
			],
			"hosts":[
				"bytetos.com",
				"byteimg.com",
				"bytednsdoc.com",
				"pstatp.com"
			],
			"name":"bdys",
			"regex":[
				"/tos-cn"
			]
		},
		{
			"exclude":[
				".m3u8"
			],
			"hosts":[
				"bdys10.com"
			],
			"name":"bdys10",
			"regex":[
				"/obj/"
			]
		}
		]}},
"ads": [
    "mimg.0c1q0l.cn",
    "www.googletagmanager.com",
    "www.google-analytics.com",
    "mc.usihnbcq.cn",
    "mg.g1mm3d.cn",
    "mscs.svaeuzh.cn",
    "cnzz.hhttm.top",
    "tp.vinuxhome.com",
    "cnzz.mmstat.com",
    "www.baihuillq.com",
    "s23.cnzz.com",
    "z3.cnzz.com",
    "c.cnzz.com",
    "stj.v1vo.top",
    "z12.cnzz.com",
    "img.mosflower.cn",
    "tips.gamevvip.com",
    "ehwe.yhdtns.com",
    "xdn.cqqc3.com",
    "www.jixunkyy.cn",
    "sp.chemacid.cn",
    "hm.baidu.com",
    "s9.cnzz.com",
    "z6.cnzz.com",
    "um.cavuc.com",
    "mav.mavuz.com",
    "wofwk.aoidf3.com",
    "z5.cnzz.com",
    "xc.hubeijieshikj.cn",
    "tj.tianwenhu.com",
    "xg.gars57.cn",
    "k.jinxiuzhilv.com",
    "cdn.bootcss.com",
    "ppl.xunzhuo123.com",
    "xomk.jiangjunmh.top",
    "img.xunzhuo123.com",
    "z1.cnzz.com",
    "s13.cnzz.com",
    "xg.huataisangao.cn",
    "z7.cnzz.com",
    "xg.huataisangao.cn",
    "z2.cnzz.com",
    "s96.cnzz.com",
    "q11.cnzz.com",
    "thy.dacedsfa.cn",
    "xg.whsbpw.cn",
    "s19.cnzz.com",
    "z8.cnzz.com",
    "s4.cnzz.com",
    "f5w.as12df.top",
    "ae01.alicdn.com",
    "www.92424.cn",
    "k.wudejia.com",
    "vivovip.mmszxc.top",
    "qiu.xixiqiu.com",
    "cdnjs.hnfenxun.com",
    "cms.qdwght.com",
    "wan.51img1.com",
    "iqiyi.hbuioo.com",
    "vip.ffzyad.com",
    "https://lf1-cdn-tos.bytegoofy.com/obj/tos-cn-i-dy/455ccf9e8ae744378118e4bd289288dd"
]
}
